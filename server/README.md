# Golang сервис

## Установка зависимостей

1. `go get github.com/gin-gonic/gin`
2. `go get github.com/mil-ast/sendmail`

## Коротко о структуре сервиса

```
|-- api
|   |-- binders  Получение входящих данных (json, query, параметры)
|   |-- constants  Константы для привязки данных в основном
|   |-- handlers  Обработка самих запросов и ответов
|   |-- models  Структуры данных
|   |-- services  Сервисы обработки данных и работа с БД
|
|-- config  параметры приложения
|-- db  простая обёртка для работы с БД
|-- fileuploads  папка для хранения фото авто
|-- oauth  пакет для работы с авторизацией через сторонние сервисы
|-- sendmail  пакет-обертка для отправки электронных писем
|-- sessions  генерация и валидация JWT-токенов (токена для рефреша нет)
|-- utils  прочие вспомогательные плюшки
```

## Что бы хотелось реализовать в перспективе и на что обратить внимание

- [x] Подготовитьь README.md
- [x] Oauth: вынести параметры в конфиг 
- [ ] Логирование ошибок в указанную в конфиге папку. На каждый день создается файл лога. Как вариант используя пакет `log`. Если не прод.режим, использовать [func SetOutput(w io.Writer)](https://golang.org/pkg/log/#SetOutput)
- [ ] JWT надо ли использовать токен рефреша или и так сойдёт? Сейчас токен сам рефрешится при запросе, если до протухания текущего осталось менее 1/3 времени. Вероятно сомнительная идея, но пока так.
- [ ] Сделать шаблоны E-mail-ов человеческими. Нужна нормальная вёрстка, приятный и простой интерфейс. Продумать текст.
- [ ] Автодеплой проекта. Хотя пока не критично. Пока руками обновляется нормально, проект мелкий.